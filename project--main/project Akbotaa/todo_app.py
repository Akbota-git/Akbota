from enum import Enum

class Статус(Enum):
    НОВАЯ = "Новая"
    В_РАБОТЕ = "В работе"
    ЗАВЕРШЕНА = "Завершена"

class Приоритет(Enum):
    НИЗКИЙ = "Низкий"
    СРЕДНИЙ = "Средний"
    ВЫСОКИЙ = "Высокий"

class Пользователь:
    def __init__(self, имя, email):
        self.имя = имя
        self.email = email

    def __str__(self):
        return f"{self.имя} ({self.email})"

class Задача:
    def __init__(self, название, описание, статус=Статус.НОВАЯ, приоритет=Приоритет.СРЕДНИЙ):
        self.название = название
        self.описание = описание
        self.статус = статус
        self.приоритет = приоритет

    def изменить_статус(self, новый_статус):
        self.статус = новый_статус

    def изменить_приоритет(self, новый_приоритет):
        self.приоритет = новый_приоритет

    def __str__(self):
        return f"[{self.статус.value}] {self.название} ({self.приоритет.value})"

class Проект:
    def __init__(self, название, описание):
        self.название = название
        self.описание = описание
        self.участники = []
        self.задачи = []

    def добавить_участника(self, пользователь):
        self.участники.append(пользователь)

    def добавить_задачу(self, задача):
        self.задачи.append(задача)

    def удалить_задачу(self, задача):
        if задача in self.задачи:
            self.задачи.remove(задача)

    def список_задач(self, статус=None, приоритет=None):
        результат = self.задачи
        if статус:
            результат = [z for z in результат if z.статус == статус]
        if приоритет:
            результат = [z for z in результат if z.приоритет == приоритет]
        return результат

if __name__ == "__main__":
    user1 = Пользователь("Кахарман", "k@example.com")
    user2 = Пользователь("Айгуль", "a@example.com")

    проект1 = Проект("Мини-проект", "Приложение для управления задачами")
    проект1.добавить_участника(user1)
    проект1.добавить_участника(user2)

    задача1 = Задача("Сделать UML диаграмму", "Нарисовать классы и связи", Приоритет.ВЫСОКИЙ)
    задача2 = Задача("Написать отчет", "Описание архитектуры и use case", Приоритет.СРЕДНИЙ)

    проект1.добавить_задачу(задача1)
    проект1.добавить_задачу(задача2)

    print("Все задачи проекта:")
    for z in проект1.задачи:
        print(z)

    задача1.изменить_статус(Статус.В_РАБОТЕ)
    print("\nПосле изменения статуса первой задачи:")
    for z in проект1.задачи:
        print(z)

    print("\nЗадачи с высоким приоритетом:")
    for z in проект1.список_задач(приоритет=Приоритет.ВЫСОКИЙ):
        print(z)
